
[summary]
id:			CR-000094

date_raised:	04-03-2004

raised_by:		DSTC

title:		Add lifecycle state attribute to VERSION; correct DV_STATE

owner:		PG

status:		completed

[change information]

change_category:	design

analyst:	Andrew Goodchild, Sam Heard, Thomas Beale

problem_description: There are at least two common scenarios in dealing with
		Compositions which would be enabled by the addition of a status
		marker.

		The first is a user's need to save something in 'draft' state,
		e.g. because they have run out of time to finish writing part of
		the Composition, or due to an emergency. In hospitals this may
		well be a common occurrence. Such draft Compositions cannot be
		saved locally on the client machine, since this represents a
		security risk (a small client-side database would be much easier
		to hack into than a secure server). They must therefore be
		persisted on the server, either in the actual EHR, or in a
		'holding bay' which was recognised as not being part of the EHR
		proper. Either way, the author would have to explicitly retrieve
		the Composition(s) and after further work or review, 'promote'
		them into the EHR as 'active' Compositions; alternatively, they
		might decide to throw them away.

		The second scenario is the need to be able to represent states
		like 'active', 'inactive' and 'deleted' of Compositions in a system.
		(The 'deleted' state is of course only logical - in a
		medico-legally safe record, nothing can be actually deleted).

		In both scenarios, it should be possible to change the status of a
		Composition without actually changing the Composition itself -
		i.e. without creating a new version.

change_description:  The desired effect can be achieved with a new attribute
		lifecycle_state: DV_STATE on VERSION. The DV_STATE type should be
		upgraded to use DV_CODED_TEXTs rather than Strings, and the
		vocabulary should be merged with that in ATTESTATION.status.

impact_analysis:		Low

changed_components:	RM.COMMON.CHANGE_CONTROL 1.4.11

approved_by:	PG

implementor:	Thomas Beale

[test and release]
target_release:	0.9
test_release:
test_status:	

[resolution]
date_closed:	09-03-2004
reason_for_rejection:	
notes:		
