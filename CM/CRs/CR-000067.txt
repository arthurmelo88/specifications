
[summary]
id:			CR-000067

date_raised:	27/11/2003

raised_by:		Sam Heard

title:		Change EVENT class to enable math function interval measurements

owner:		PG

status:		completed

[change information]
change_category:	design

analyst:	Thomas Beale, Sam Heard

problem_description: The HISTORY class at present allows a list of events which
		are either 'point in time' when duration is NULL. In the prototype
		archetype editor we have experienced the benefit of having a formal
		interval measurement with mathematic functions available for quantifiable
		datatypes. This means that we do not need new archetypes for maximum, min
		average, mode, change (delta), total. There are probably others??

		The result is now that it is possible to have more than one series in one 
		ENTRY - consider a temperature measurement where every hour an average, a 
		minimum and a maximum is added.

		It would be possible to deal with this by having different series in the 
		same history, but it is not pretty - the period might be different for
		example. The best means of dealing with this is to have multiple histories
		in my opinion. Each HISTORY will know if it is 'point in time' or 'interval'.
		This also means that we need to have the maths function (average etc) as a 
		feature of the HISTORY also - as these have to be the same to interpret the
		data.

		Events need to have a width (I think it is duration in the RM) if they are 
		interval measurements - as well as an offset, as well as whether a change
		is signed negative. 

		DK: This seems helpful

change_description:  Change the name of the attribute EVENT.duration to
		'width'; same for SINGLE_EVENT.duration. Add an attribute
		math_function: DV_CODED_TEXT to EVENT and SINGLE_EVENT. This has
		to be coded from an openEHR Terminology group, which has to be
		defined, and which includes the following values:
			- minimum
			- maximum
			- mode
			- median
			- mean
			- delta
			- total
		This attribute is only meaningful if the width is non-zero; when
		it is zero, the implied function is 'point in time'.

		A single HISTORY will be retained; the possibility of including
		EVENTs whose math_function differs from event to event enables
		multiple logical histories to in fact be captured, e.g. a history
		of means, and of minima.

impact_analysis:	Will not change HISTORY - rather adds functionality

changed_components:	RM.DATA_STRUCTURE.HISTORY 1.3.3

approved_by:	

implementor:	Thomas Beale

[test and release]
target_release:	0.9
test_release:	
test_status:

[resolution]
date_closed:	09/03/2004
reason_for_rejection:
notes:

